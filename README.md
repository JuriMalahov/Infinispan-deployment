# Infinispan-deployment
Данный набор скриптов позволяет выполнить автоматическое развертывание инфраструктуры для приложения Infinispan.
## Подготовка к развертыванию
Для развертывния инфраструктуры пользователю необходимо подготовить 3 хоста с ОС Alt, Astra Linux и RedOS.
У всех хостов должны быть следующие минимальные характеристики:
- 2 GB ОЗУ;
- 1 CPU;
- 30 GB Накопитель.

Также у хостов должен быть доступ к сети.

## Выполенение bash-скриптов
Далее пользователю необходимо загрузить bash-скрипты из репозитория на соответствующие машины и изменить настройку интерфейсов.
Для Alt и Astra Linux должно быть выделено по одному интерфейсу для внутренней сети. У RedOS должен быть один интерфейс с NAT и один для внутренней сети.
После подготовки интерфейсов необходимо последовательно выполнить скрипты под пользователем root. Вначале для RedOS:
```
./configure_redos.sh
```
далее для Astra Linux:
```
./configure_astra.sh
```
потом для Alt:
```
./configure_alt.sh
```
Скрипты выполнят настройку сети, ssh и установят необходимые утилиты.

## Выполнение Ansible Playbook
Теперь пользователь должен клонировать данный репозиторий на машину Alt и выполнить плэйбук infinispan_playbook.yaml:
```
ansible-playbook infinispan_playbook.yaml
```
Плэйбук развернет приложение Infinispan и выполнит базовую настройку. Приложение будет доступно с хоста Alt по адресу: <http://infinispandatabase.ru>. Для входа в веб-интерфейс Infinispan необходимо использовать логин `admin` и пароль `secret`.
